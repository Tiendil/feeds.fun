[tool.poetry]
name = "ffun"
version = "0.2.0"
description = "Backend for the Feeds Fun â€” web-based news reader"
repository = "https://github.com/Tiendil/feeds.fun"
authors = ["Aliaksei Yaletski (Tiendil) <a.eletsky@gmail.com>"]
license = " BSD-3-Clause"
readme = "README.md"
homepage = "https://feeds.fun"
keywords = ["news", "news-reader", "news-aggregator",
            "rss", "rss-reader", "rss-aggregator",
            "feed", "feed-reader", "feed-aggregator",
            "atom", "self-hosted"]
classifiers = [
        "Environment :: Web Environment",
        "Framework :: AsyncIO",
        "Framework :: FastAPI",
        "Intended Audience :: End Users/Desktop",
        "Intended Audience :: Developers",
        "License :: OSI Approved :: BSD License",
        "Natural Language :: English",
        "Operating System :: OS Independent",
        "Programming Language :: Python :: 3.11",
        "Programming Language :: Python :: 3 :: Only",
        "Programming Language :: Python :: Implementation :: CPython",
        "Topic :: Communications",
        "Topic :: Office/Business :: News/Diary",
        "Topic :: Text Processing",
        "Topic :: Text Processing :: Linguistic",
        "Topic :: Internet :: WWW/HTTP",
        "Topic :: Internet :: WWW/HTTP :: Dynamic Content",
        "Topic :: Internet :: WWW/HTTP :: WSGI :: Application",
        "Topic :: Internet :: WWW/HTTP :: WSGI :: Server",
        "Topic :: Internet :: WWW/HTTP :: HTTP Servers"]


[tool.poetry.dependencies]
python = "^3.11"

uvicorn = {extras = ["standard"], version = "0.*"}
fastapi = "0.*"
typer = "0.*"
httpx = "0.*"

openai = "0.*"
tiktoken = "0.*"

bidict = "0.*"

feedparser = "6.*"

beautifulsoup4 = "4.*"

async-lru = "2.*"

psycopg = "3.*"
psycopg-pool = "3.*"
yoyo-migrations = "8.*"

structlog = "23.*"

yarl = "1.*"

python-multipart = "0.*"

supertokens-python = "0.*"

python-slugify = "8.*"

sentry-sdk = "1.*"

tabulate = "0.*"

cryptography = "41.*"

markdown = "3.*"

[tool.poetry.dev-dependencies]

pytest = "6.*"

isort = "5.*"
black = "23.*"
mypy = "1.3.*"  # wait till pydantic update its mypy plugin

types-python-slugify = "8.*"
types-beautifulsoup4 = "4.*"
types-markdown = "3.*"
types-pkg-resources = "0.*"
types-tabulate = "0.*"

[tool.poetry.scripts]

ffun = "ffun.cli.cli:app"

[tool.isort]
line_length = 119
multi_line_output = 0
order_by_type = "true"
atomic = "true"
combine_star = "true"
group_by_package = "true"
remove_redundant_aliases = "true"
float_to_top = "true"
treat_comments_as_code = "false"
lines_after_imports = 2

[tool.black]
line-length = 119

[tool.mypy]
plugins = ["pydantic.mypy"]
strict = true
implicit_reexport = true
allow_untyped_calls = true

[tool.pydantic-mypy]
init_forbid_extra = true
init_typed = true
warn_required_dynamic_aliases = true
warn_untyped_fields = true

[[tool.mypy.overrides]]
module = "yoyo.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "feedparser.*"
ignore_missing_imports = true

# remove after updating to a new version
[[tool.mypy.overrides]]
module = "supertokens_python.*"
ignore_errors = true
